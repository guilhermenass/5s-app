<!--
  Generated template for the AuditResumePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  
    <ion-navbar>
      <ion-title>Senai 5s</ion-title>
    </ion-navbar>
  
  </ion-header>


<ion-content padding style="background-color: #2c3e50">
    
    <ion-grid>
      <ion-card>
        <ion-card-header>
          Saúde do ambiente
        </ion-card-header>
        <ion-card-content>
          <ion-row>
              <ion-col col-12 col-sm-6> 
                  <div style="display: block">
                      <canvas baseChart
                              [colors]="chartColors"
                              [data]="doughnutChartData"
                              [labels]="doughnutChartLabels"
                              [chartType]="doughnutChartType"
                              (chartHover)="chartHovered($event)"
                              (chartClick)="chartClicked($event)">
                      </canvas>
                  </div>
              </ion-col>
          </ion-row>
          <button ion-button outline block color="secondary" (click)="showDetailsQuestionsAnswers()">{{showDetailsQuestions ? 'Ver menos detalhes' : 'Ver mais detalhes'}}</button>
          <ion-row *ngIf="showDetailsQuestions">
            <ion-col col-12 col-sm-6 text-start> 
              <h2 *ngFor="let question of questions; let i = index" [style.color]="answers[i].status == true ? 'green' : 'red'" >{{i + 1}} - {{question.Question.title}}</h2>
            </ion-col>
          </ion-row>
          <button *ngIf="answerNonCompliance > 0" ion-button col-12 color="secondary" (click)="generateActionPlan()">
            <ion-label>
                Gerar Plano de Ação
            </ion-label>
          </button>
          <button *ngIf="answerNonCompliance == 0" ion-button col-12 color="secondary" (click)="finishEvaluate()">
              <ion-label>
                  Finalizar avaliação
              </ion-label>
            </button>
        </ion-card-content>
      </ion-card>      
  </ion-grid>

</ion-content>

